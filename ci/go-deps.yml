platform: linux

image_resource:
  type: docker-image
  source:
    repository: golang
    tag: '1.9'

params:
  GO_REPO: github.com/TheThingsNetwork/ttn

inputs:
- name: ttn-src
  path: go/src/github.com/TheThingsNetwork/ttn

outputs:
- name: vendor

caches:
- path: go/bin
- path: go/pkg/dep
- path: go/src/github.com/golang

run:
  path: go/src/github.com/TheThingsNetwork/ttn/ci/go-deps.sh
