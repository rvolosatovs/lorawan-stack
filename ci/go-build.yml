platform: linux

image_resource:
  type: docker-image
  source:
    repository: golang
    tag: '1.9'

params:
  BUILD_GOOS: linux
  BUILD_GOARCH: amd64
  GO_REPO: github.com/TheThingsNetwork/ttn

inputs:
- name: ttn-src
  path: go/src/github.com/TheThingsNetwork/ttn
- name: vendor

outputs:
- name: ttn-binary
  path: release

run:
  path: go/src/github.com/TheThingsNetwork/ttn/ci/go-build.sh
