// Copyright Â© 2018 The Things Network Foundation, distributed under the MIT license (see LICENSE file)

syntax = "proto3";

import "github.com/gogo/protobuf/gogoproto/gogo.proto";

package ttn.v3;

option go_package = "github.com/TheThingsNetwork/ttn/pkg/ttnpb";

// UserIdentifiers is the message that is used to identify an user.
message UserIdentifiers {
  // user_id is the ID of the user.
  string user_id = 1 [(gogoproto.customname) = "UserID", (gogoproto.jsontag) = "user_id"];
}

// ApplicationIdentifiers is the message that is used to identify an application.
message ApplicationIdentifiers {
  // TTN Application ID.
  string application_id = 1 [(gogoproto.customname) = "ApplicationID", (gogoproto.jsontag) = "application_id"];
}

// GatewayIdentifiers is the message that is used to identify a gateway.
message GatewayIdentifiers {
  // TTN Gateway ID.
  string gateway_id = 1 [(gogoproto.customname) = "GatewayID", (gogoproto.jsontag) = "gateway_id"];
}

// End device identifiers are carried with uplink and downlink messages.
// Unknown fields are left empty.
message EndDeviceIdentifiers {
  option (gogoproto.populate) = false;
  // TTN Device ID.
  string device_id = 1 [(gogoproto.customname) = "DeviceID"];
  // TTN Application ID.
  string application_id = 2 [(gogoproto.customname) = "ApplicationID"];

  // LoRaWAN DevEUI.
  bytes dev_eui = 4 [(gogoproto.customtype) = "github.com/TheThingsNetwork/ttn/pkg/types.EUI64", (gogoproto.customname) = "DevEUI"];
  // LoRaWAN JoinEUI (or AppEUI for LoRaWAN 1.0 end devices).
  bytes join_eui = 5 [(gogoproto.customtype) = "github.com/TheThingsNetwork/ttn/pkg/types.EUI64", (gogoproto.customname) = "JoinEUI"];
  // LoRaWAN DevAddr.
  bytes dev_addr = 6 [(gogoproto.customtype) = "github.com/TheThingsNetwork/ttn/pkg/types.DevAddr"];
}

// ClientIdentifiers is the message that is used to identify a client.
message ClientIdentifiers {
  // TTN Client ID.
  string client_id = 1 [(gogoproto.customname) = "ClientID", (gogoproto.jsontag) = "client_id"];
}

// OrganizationIdentifiers is the message that is used to identify an organization.
message OrganizationIdentifiers {
  // TTN Organization ID.
  string organization_id = 1 [(gogoproto.customname) = "OrganizationID", (gogoproto.jsontag) = "organization_id"];
}

// OrganizationOrUserIdentifiers is the message used in collaborationship messages
// used to identify the persona entity.
message OrganizationOrUserIdentifiers {
  oneof ID {
    UserIdentifiers user_id = 1 [(gogoproto.customname) = "UserID"];
    OrganizationIdentifiers organization_id = 2 [(gogoproto.customname) = "OrganizationID"];
  }
}
