// Copyright Â© 2018 The Things Network Foundation, distributed under the MIT license (see LICENSE file)

syntax = "proto3";

import "github.com/TheThingsNetwork/ttn/api/client.proto";
import "github.com/TheThingsNetwork/ttn/api/identifiers.proto";
import "github.com/TheThingsNetwork/ttn/api/rights.proto";
import "github.com/gogo/protobuf/gogoproto/gogo.proto";
import "google/protobuf/empty.proto";
import "google/protobuf/timestamp.proto";

package ttn.v3;

option go_package = "github.com/TheThingsNetwork/ttn/pkg/ttnpb";

// User is the message that defines an user on the network.
message User {
  // id is the user's unique and immutable ID.
  // This ID shares namespace with the organizations' IDs.
  UserIdentifier id = 1 [(gogoproto.embed) = true, (gogoproto.nullable) = false, (gogoproto.jsontag) = ""];

  // email is the user's email address.
  string email = 2;

  // password is the user's password.
  string password = 3;

  // name is the user's full name.
  string name = 4;

  // validated_at denotes the time the email was validated at.
  // This is a read-only field.
  google.protobuf.Timestamp validated_at = 5 [(gogoproto.nullable) = false, (gogoproto.stdtime) = true];

  // admin denotes whether or not the user has administrative rights within the tenancy.
  // This field can only be modified by admins.
  bool admin = 6;

  // state denotes the reviewing state of the user by admin.
  // This field can only be modified by admins.
  ReviewingState state = 7;

  // created_at denotes when the user was created.
  // This is a read-only field.
  google.protobuf.Timestamp created_at = 8 [(gogoproto.nullable) = false, (gogoproto.stdtime) = true];

  // updated_at is the last time the user was updated.
  // This is a read-only field.
  google.protobuf.Timestamp updated_at = 9 [(gogoproto.nullable) = false, (gogoproto.stdtime) = true];
}
