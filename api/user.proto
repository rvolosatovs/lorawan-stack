// Copyright Â© 2018 The Things Network Foundation, The Things Industries B.V.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

syntax = "proto3";

import "github.com/TheThingsNetwork/ttn/api/client.proto";
import "github.com/TheThingsNetwork/ttn/api/identifiers.proto";
import "github.com/TheThingsNetwork/ttn/api/rights.proto";
import "github.com/gogo/protobuf/gogoproto/gogo.proto";
import "google/protobuf/empty.proto";
import "google/protobuf/timestamp.proto";

package ttn.lorawan.v3;

option go_package = "github.com/TheThingsNetwork/ttn/pkg/ttnpb";

// User is the message that defines an user on the network.
message User {
  // User identifiers.
  UserIdentifiers ids = 1 [(gogoproto.embed) = true, (gogoproto.nullable) = false];

  // password is the user's password.
  string password = 2;

  // name is the user's full name.
  string name = 3;

  // validated_at denotes the time the email was validated at.
  // This is a read-only field.
  google.protobuf.Timestamp validated_at = 4 [(gogoproto.stdtime) = true];

  // admin denotes whether or not the user has administrative rights within the tenancy.
  // This field can only be modified by admins.
  bool admin = 5;

  // state denotes the reviewing state of the user by admin.
  // This field can only be modified by admins.
  ReviewingState state = 6;

  // created_at denotes when the user was created.
  // This is a read-only field.
  google.protobuf.Timestamp created_at = 7 [(gogoproto.nullable) = false, (gogoproto.stdtime) = true];

  // updated_at is the last time the user was updated.
  // This is a read-only field.
  google.protobuf.Timestamp updated_at = 8 [(gogoproto.nullable) = false, (gogoproto.stdtime) = true];

  // The last time the password was updated (read-only field).
  google.protobuf.Timestamp password_updated_at = 9 [(gogoproto.nullable) = false, (gogoproto.stdtime) = true];

  // Require the user to update its password (modifiable only by admins).
  bool require_password_update = 10;
}
