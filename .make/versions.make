# Copyright Â© 2017 The Things Network Foundation, distributed under the MIT license (see LICENSE file)

pkg/version/ttn.go: .FORCE
	@echo "// Code generated by Makefile. DO NOT EDIT." > pkg/version/ttn.go
	@echo "" >> pkg/version/ttn.go
	@echo "package version" >> pkg/version/ttn.go
	@echo "" >> pkg/version/ttn.go
	@echo "// TTN Version" >> pkg/version/ttn.go
	@echo "const TTN = \"$(VERSION)-dev\"" >> pkg/version/ttn.go

version.bump.major: BUMP=major
version.bump.major: version.bump

version.bump.minor: BUMP=minor
version.bump.minor: version.bump

version.bump.patch: BUMP=patch
version.bump.patch: version.bump

version.bump.rc: BUMP=rc
version.bump.rc: version.bump

version.bump: VERSION=$(shell $(GO) run .make/bump.go "$(GIT_TAG)" "$(BUMP)")
version.bump: pkg/version/ttn.go
	git tag -s -f -m "$(VERSION)" "$(VERSION)"
	@$(log) "Bumped to $(VERSION)"
